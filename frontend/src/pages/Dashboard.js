import { useState, useEffect } from 'react';
import { useNavigate } from 'react-router-dom';
import { uploadEssay, getEssay } from '@/lib/api';
import { logout } from '@/lib/auth';
import { Loader2, Upload, FileText, CheckCircle2, AlertCircle, LogOut } from 'lucide-react';
import { Button } from '@/components/ui/button';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Alert, AlertDescription } from '@/components/ui/alert';
import { Textarea } from '@/components/ui/textarea';
export function Dashboard() {
    const navigate = useNavigate();
    const [essayText, setEssayText] = useState('');
    const [essayId, setEssayId] = useState(null);
    const [essayData, setEssayData] = useState(null);
    const [isUploading, setIsUploading] = useState(false);
    const [isPolling, setIsPolling] = useState(false);
    const [error, setError] = useState(null);
    const handleLogout = async () => {
        try {
            await logout();
            navigate('/login');
        }
        catch (err) {
            console.error('Logout error:', err);
            // Still navigate to login even if logout fails
            navigate('/login');
        }
    };
    const handleSubmit = async (e) => {
        e.preventDefault();
        if (!essayText.trim()) {
            setError('Please enter some essay text');
            return;
        }
        setIsUploading(true);
        setError(null);
        setEssayData(null);
        try {
            const response = await uploadEssay(essayText);
            setEssayId(response.essay_id);
            setEssayData(response);
            setIsPolling(true);
        }
        catch (err) {
            setError(err instanceof Error ? err.message : 'Failed to upload essay');
        }
        finally {
            setIsUploading(false);
        }
    };
    useEffect(() => {
        if (!essayId || !isPolling)
            return;
        const pollInterval = setInterval(async () => {
            try {
                const data = await getEssay(essayId);
                setEssayData(data);
                if (data.status === 'processed') {
                    setIsPolling(false);
                    clearInterval(pollInterval);
                }
            }
            catch (err) {
                setError(err instanceof Error ? err.message : 'Failed to fetch essay status');
                setIsPolling(false);
                clearInterval(pollInterval);
            }
        }, 3000); // Poll every 3 seconds
        return () => clearInterval(pollInterval);
    }, [essayId, isPolling]);
    return (<div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8">
      <div className="max-w-4xl mx-auto">
        {/* Header with Logout */}
        <div className="flex justify-between items-center mb-6">
          <h1 className="text-3xl font-bold text-gray-900">Vocabulary Essay Analyzer</h1>
          <Button onClick={handleLogout} variant="outline" size="sm">
            <LogOut className="h-4 w-4 mr-2"/>
            Logout
          </Button>
        </div>

        <Card className="shadow-xl">
          <CardHeader>
            <CardTitle className="text-4xl">Vocabulary Essay Analyzer</CardTitle>
            <CardDescription className="text-base">
              Upload your essay to receive vocabulary analysis and feedback
            </CardDescription>
          </CardHeader>
          <CardContent>
            {error && (<Alert variant="destructive" className="mb-6">
                <AlertCircle className="h-4 w-4"/>
                <AlertDescription>{error}</AlertDescription>
              </Alert>)}

            {!essayData ? (<form onSubmit={handleSubmit} className="space-y-6">
                <div className="space-y-2">
                  <label htmlFor="essay" className="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">
                    Essay Text
                  </label>
                  <Textarea id="essay" rows={12} value={essayText} onChange={(e) => setEssayText(e.target.value)} placeholder="Paste your essay here..." disabled={isUploading}/>
                </div>
                <Button type="submit" disabled={isUploading || !essayText.trim()} className="w-full" size="lg">
                  {isUploading ? (<>
                      <Loader2 className="h-4 w-4 animate-spin"/>
                      Uploading...
                    </>) : (<>
                      <Upload className="h-4 w-4"/>
                      Analyze Essay
                    </>)}
                </Button>
              </form>) : (<div className="space-y-6">
                {/* Status Indicator */}
                <Alert className={essayData.status === 'processed' ? 'border-green-500 bg-green-50' : 'border-blue-500 bg-blue-50'}>
                  <div className="flex items-center gap-3">
                    {essayData.status === 'processed' ? (<>
                        <CheckCircle2 className="h-5 w-5 text-green-600"/>
                        <div>
                          <p className="font-medium text-green-800">Processing Complete</p>
                          <p className="text-sm text-green-600">Your essay has been analyzed</p>
                        </div>
                      </>) : (<>
                        <Loader2 className="h-5 w-5 text-blue-600 animate-spin"/>
                        <div>
                          <p className="font-medium text-blue-800">
                            {essayData.status === 'processing' ? 'Processing...' : 'Queued for Processing'}
                          </p>
                          <p className="text-sm text-blue-600">
                            {essayData.status === 'processing'
                    ? 'Analyzing your essay with AI'
                    : 'Your essay is in the queue'}
                          </p>
                        </div>
                      </>)}
                  </div>
                </Alert>

                {/* Metrics */}
                {essayData.metrics && (<Card>
                    <CardHeader>
                      <CardTitle className="flex items-center gap-2">
                        <FileText className="h-6 w-6"/>
                        Metrics
                      </CardTitle>
                    </CardHeader>
                    <CardContent>
                      <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                        <div className="bg-muted p-4 rounded-lg">
                          <p className="text-sm text-muted-foreground">Word Count</p>
                          <p className="text-2xl font-bold">{essayData.metrics.word_count}</p>
                        </div>
                        <div className="bg-muted p-4 rounded-lg">
                          <p className="text-sm text-muted-foreground">Unique Words</p>
                          <p className="text-2xl font-bold">{essayData.metrics.unique_words}</p>
                        </div>
                        <div className="bg-muted p-4 rounded-lg">
                          <p className="text-sm text-muted-foreground">Type-Token Ratio</p>
                          <p className="text-2xl font-bold">
                            {essayData.metrics.type_token_ratio.toFixed(2)}
                          </p>
                        </div>
                        {essayData.metrics.avg_word_freq_rank && (<div className="bg-muted p-4 rounded-lg">
                            <p className="text-sm text-muted-foreground">Avg Frequency Rank</p>
                            <p className="text-2xl font-bold">
                              {Math.round(essayData.metrics.avg_word_freq_rank)}
                            </p>
                          </div>)}
                      </div>
                      {essayData.metrics.noun_ratio && (<div className="mt-4 pt-4 border-t">
                          <p className="text-sm font-medium mb-2">Part of Speech Distribution</p>
                          <div className="grid grid-cols-2 md:grid-cols-4 gap-3">
                            <div>
                              <p className="text-xs text-muted-foreground">Nouns</p>
                              <p className="text-lg font-semibold">{(essayData.metrics.noun_ratio * 100).toFixed(1)}%</p>
                            </div>
                            <div>
                              <p className="text-xs text-muted-foreground">Verbs</p>
                              <p className="text-lg font-semibold">{(essayData.metrics.verb_ratio * 100).toFixed(1)}%</p>
                            </div>
                            {essayData.metrics.adj_ratio && (<div>
                                <p className="text-xs text-muted-foreground">Adjectives</p>
                                <p className="text-lg font-semibold">{(essayData.metrics.adj_ratio * 100).toFixed(1)}%</p>
                              </div>)}
                            {essayData.metrics.adv_ratio && (<div>
                                <p className="text-xs text-muted-foreground">Adverbs</p>
                                <p className="text-lg font-semibold">{(essayData.metrics.adv_ratio * 100).toFixed(1)}%</p>
                              </div>)}
                          </div>
                        </div>)}
                    </CardContent>
                  </Card>)}

                {/* Feedback */}
                {essayData.feedback && essayData.feedback.length > 0 && (<Card>
                    <CardHeader>
                      <CardTitle>Word-Level Feedback</CardTitle>
                    </CardHeader>
                    <CardContent>
                      <div className="space-y-3">
                        {essayData.feedback.map((item, index) => (<Alert key={index} variant={item.correct ? 'default' : 'destructive'} className={item.correct ? 'border-green-500 bg-green-50' : ''}>
                            <div className="flex-1">
                              <p className="font-semibold">
                                <span className="text-lg">{item.word}</span>
                                <span className={`ml-2 text-sm ${item.correct ? 'text-green-700' : 'text-red-700'}`}>
                                  {item.correct ? '✓ Correct' : '✗ Incorrect'}
                                </span>
                              </p>
                              {item.comment && (<AlertDescription className="mt-2">
                                  {item.comment}
                                </AlertDescription>)}
                            </div>
                          </Alert>))}
                      </div>
                    </CardContent>
                  </Card>)}

                {/* Reset Button */}
                <Button onClick={() => {
                setEssayText('');
                setEssayId(null);
                setEssayData(null);
                setError(null);
                setIsPolling(false);
            }} variant="secondary" className="w-full" size="lg">
                  Analyze Another Essay
                </Button>
              </div>)}
          </CardContent>
        </Card>
      </div>
    </div>);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGFzaGJvYXJkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiRGFzaGJvYXJkLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUM1QyxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDL0MsT0FBTyxFQUFFLFdBQVcsRUFBRSxRQUFRLEVBQXNCLE1BQU0sV0FBVyxDQUFDO0FBQ3RFLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFDcEMsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLFlBQVksRUFBRSxXQUFXLEVBQUUsTUFBTSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQzVGLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUNoRCxPQUFPLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRSxlQUFlLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ2pHLE9BQU8sRUFBRSxLQUFLLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUNoRSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFFcEQsTUFBTSxVQUFVLFNBQVM7SUFDdkIsTUFBTSxRQUFRLEdBQUcsV0FBVyxFQUFFLENBQUM7SUFDL0IsTUFBTSxDQUFDLFNBQVMsRUFBRSxZQUFZLENBQUMsR0FBRyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDL0MsTUFBTSxDQUFDLE9BQU8sRUFBRSxVQUFVLENBQUMsR0FBRyxRQUFRLENBQWdCLElBQUksQ0FBQyxDQUFDO0lBQzVELE1BQU0sQ0FBQyxTQUFTLEVBQUUsWUFBWSxDQUFDLEdBQUcsUUFBUSxDQUF1QixJQUFJLENBQUMsQ0FBQztJQUN2RSxNQUFNLENBQUMsV0FBVyxFQUFFLGNBQWMsQ0FBQyxHQUFH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QyxXQUFXLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FDN0M7Z0NBQUEsRUFBRSxJQUFJLENBQ1I7OEJBQUEsRUFBRSxDQUFDLENBQ0g7OEJBQUEsQ0FBQyxJQUFJLENBQUMsT0FBTyxJQUFJLENBQ2YsQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUNoQztrQ0FBQSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQ2Y7Z0NBQUEsRUFBRSxnQkFBZ0IsQ0FBQyxDQUNwQixDQUNIOzRCQUFBLEVBQUUsR0FBRyxDQUNQOzBCQUFBLEVBQUUsS0FBSyxDQUFDLENBQ1QsQ0FBQyxDQUNKO3NCQUFBLEVBQUUsR0FBRyxDQUNQO29CQUFBLEVBQUUsV0FBVyxDQUNmO2tCQUFBLEVBQUUsSUFBSSxDQUFDLENBQ1IsQ0FFRDs7Z0JBQUEsQ0FBQyxrQkFBa0IsQ0FDbkI7Z0JBQUEsQ0FBQyxNQUFNLENBQ0wsT0FBTyxDQUFDLENBQUMsR0FBRyxFQUFFO2dCQUNaLFlBQVksQ0FBQyxFQUFFLENBQUMsQ0FBQztnQkFDakIsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNqQixZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ25CLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDZixZQUFZLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDdEIsQ0FBQyxDQUFDLENBQ0YsT0FBTyxDQUFDLFdBQVcsQ0FDbkIsU0FBUyxDQUFDLFFBQVEsQ0FDbEIsSUFBSSxDQUFDLElBQUksQ0FFVDs7Z0JBQ0YsRUFBRSxNQUFNLENBQ1Y7Y0FBQSxFQUFFLEdBQUcsQ0FBQyxDQUNQLENBQ0g7VUFBQSxFQUFFLFdBQVcsQ0FDZjtRQUFBLEVBQUUsSUFBSSxDQUNSO01BQUEsRUFBRSxHQUFHLENBQ1A7SUFBQSxFQUFFLEdBQUcsQ0FBQyxDQUNQLENBQUM7QUFDSixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZU5hdmlnYXRlIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgeyB1cGxvYWRFc3NheSwgZ2V0RXNzYXksIHR5cGUgRXNzYXlSZXNwb25zZSB9IGZyb20gJ0AvbGliL2FwaSc7XG5pbXBvcnQgeyBsb2dvdXQgfSBmcm9tICdAL2xpYi9hdXRoJztcbmltcG9ydCB7IExvYWRlcjIsIFVwbG9hZCwgRmlsZVRleHQsIENoZWNrQ2lyY2xlMiwgQWxlcnRDaXJjbGUsIExvZ091dCB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJztcbmltcG9ydCB7IENhcmQsIENhcmRDb250ZW50LCBDYXJkRGVzY3JpcHRpb24sIENhcmRIZWFkZXIsIENhcmRUaXRsZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9jYXJkJztcbmltcG9ydCB7IEFsZXJ0LCBBbGVydERlc2NyaXB0aW9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2FsZXJ0JztcbmltcG9ydCB7IFRleHRhcmVhIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3RleHRhcmVhJztcblxuZXhwb3J0IGZ1bmN0aW9uIERhc2hib2FyZCgpIHtcbiAgY29uc3QgbmF2aWdhdGUgPSB1c2VOYXZpZ2F0ZSgpO1xuICBjb25zdCBbZXNzYXlUZXh0LCBzZXRFc3NheVRleHRdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbZXNzYXlJZCwgc2V0RXNzYXlJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2Vzc2F5RGF0YSwgc2V0RXNzYXlEYXRhXSA9IHVzZVN0YXRlPEVzc2F5UmVzcG9uc2UgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2lzVXBsb2FkaW5nLCBzZXRJc1VwbG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc1BvbGxpbmcsIHNldElzUG9sbGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgY29uc3QgaGFuZGxlTG9nb3V0ID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBsb2dvdXQoKTtcbiAgICAgIG5hdmlnYXRlKCcvbG9naW4nKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0xvZ291dCBlcnJvcjonLCBlcnIpO1xuICAgICAgLy8gU3RpbGwgbmF2aWdhdGUgdG8gbG9naW4gZXZlbiBpZiBsb2dvdXQgZmFpbHNcbiAgICAgIG5hdmlnYXRlKCcvbG9naW4nKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU3VibWl0ID0gYXN5bmMgKGU6IFJlYWN0LkZvcm1FdmVudCkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoIWVzc2F5VGV4dC50cmltKCkpIHtcbiAgICAgIHNldEVycm9yKCdQbGVhc2UgZW50ZXIgc29tZSBlc3NheSB0ZXh0Jyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0SXNVcGxvYWRpbmcodHJ1ZSk7XG4gICAgc2V0RXJyb3IobnVsbCk7XG4gICAgc2V0RXNzYXlEYXRhKG51bGwpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdXBsb2FkRXNzYXkoZXNzYXlUZXh0KTtcbiAgICAgIHNldEVzc2F5SWQocmVzcG9uc2UuZXNzYXlfaWQpO1xuICAgICAgc2V0RXNzYXlEYXRhKHJlc3BvbnNlKTtcbiAgICAgIHNldElzUG9sbGluZyh0cnVlKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHNldEVycm9yKGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIHVwbG9hZCBlc3NheScpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc1VwbG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFlc3NheUlkIHx8ICFpc1BvbGxpbmcpIHJldHVybjtcblxuICAgIGNvbnN0IHBvbGxJbnRlcnZhbCA9IHNldEludGVydmFsKGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBnZXRFc3NheShlc3NheUlkKTtcbiAgICAgICAgc2V0RXNzYXlEYXRhKGRhdGEpO1xuXG4gICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PT0gJ3Byb2Nlc3NlZCcpIHtcbiAgICAgICAgICBzZXRJc1BvbGxpbmcoZmFsc2UpO1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwocG9sbEludGVydmFsKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHNldEVycm9yKGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIGZldGNoIGVzc2F5IHN0YXR1cycpO1xuICAgICAgICBzZXRJc1BvbGxpbmcoZmFsc2UpO1xuICAgICAgICBjbGVhckludGVydmFsKHBvbGxJbnRlcnZhbCk7XG4gICAgICB9XG4gICAgfSwgMzAwMCk7IC8vIFBvbGwgZXZlcnkgMyBzZWNvbmRzXG5cbiAgICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbChwb2xsSW50ZXJ2YWwpO1xuICB9LCBbZXNzYXlJZCwgaXNQb2xsaW5nXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmFkaWVudC10by1iciBmcm9tLWJsdWUtNTAgdG8taW5kaWdvLTEwMCBweS0xMiBweC00IHNtOnB4LTYgbGc6cHgtOFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy00eGwgbXgtYXV0b1wiPlxuICAgICAgICB7LyogSGVhZGVyIHdpdGggTG9nb3V0ICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBtYi02XCI+XG4gICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtM3hsIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwXCI+Vm9jYWJ1bGFyeSBFc3NheSBBbmFseXplcjwvaDE+XG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlTG9nb3V0fVxuICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8TG9nT3V0IGNsYXNzTmFtZT1cImgtNCB3LTQgbXItMlwiIC8+XG4gICAgICAgICAgICBMb2dvdXRcbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPENhcmQgY2xhc3NOYW1lPVwic2hhZG93LXhsXCI+XG4gICAgICAgICAgPENhcmRIZWFkZXI+XG4gICAgICAgICAgICA8Q2FyZFRpdGxlIGNsYXNzTmFtZT1cInRleHQtNHhsXCI+Vm9jYWJ1bGFyeSBFc3NheSBBbmFseXplcjwvQ2FyZFRpdGxlPlxuICAgICAgICAgICAgPENhcmREZXNjcmlwdGlvbiBjbGFzc05hbWU9XCJ0ZXh0LWJhc2VcIj5cbiAgICAgICAgICAgICAgVXBsb2FkIHlvdXIgZXNzYXkgdG8gcmVjZWl2ZSB2b2NhYnVsYXJ5IGFuYWx5c2lzIGFuZCBmZWVkYmFja1xuICAgICAgICAgICAgPC9DYXJkRGVzY3JpcHRpb24+XG4gICAgICAgICAgPC9DYXJkSGVhZGVyPlxuICAgICAgICAgIDxDYXJkQ29udGVudD5cbiAgICAgICAgICAgIHtlcnJvciAmJiAoXG4gICAgICAgICAgICAgIDxBbGVydCB2YXJpYW50PVwiZGVzdHJ1Y3RpdmVcIiBjbGFzc05hbWU9XCJtYi02XCI+XG4gICAgICAgICAgICAgICAgPEFsZXJ0Q2lyY2xlIGNsYXNzTmFtZT1cImgtNCB3LTRcIiAvPlxuICAgICAgICAgICAgICAgIDxBbGVydERlc2NyaXB0aW9uPntlcnJvcn08L0FsZXJ0RGVzY3JpcHRpb24+XG4gICAgICAgICAgICAgIDwvQWxlcnQ+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICB7IWVzc2F5RGF0YSA/IChcbiAgICAgICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0gY2xhc3NOYW1lPVwic3BhY2UteS02XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwiZXNzYXlcIiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIGxlYWRpbmctbm9uZSBwZWVyLWRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCBwZWVyLWRpc2FibGVkOm9wYWNpdHktNzBcIj5cbiAgICAgICAgICAgICAgICAgICAgRXNzYXkgVGV4dFxuICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxUZXh0YXJlYVxuICAgICAgICAgICAgICAgICAgICBpZD1cImVzc2F5XCJcbiAgICAgICAgICAgICAgICAgICAgcm93cz17MTJ9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtlc3NheVRleHR9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0RXNzYXlUZXh0KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQYXN0ZSB5b3VyIGVzc2F5IGhlcmUuLi5cIlxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNVcGxvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzVXBsb2FkaW5nIHx8ICFlc3NheVRleHQudHJpbSgpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsXCJcbiAgICAgICAgICAgICAgICAgIHNpemU9XCJsZ1wiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge2lzVXBsb2FkaW5nID8gKFxuICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT1cImgtNCB3LTQgYW5pbWF0ZS1zcGluXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICBVcGxvYWRpbmcuLi5cbiAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgIDxVcGxvYWQgY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgQW5hbHl6ZSBFc3NheVxuICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS02XCI+XG4gICAgICAgICAgICAgICAgey8qIFN0YXR1cyBJbmRpY2F0b3IgKi99XG4gICAgICAgICAgICAgICAgPEFsZXJ0IGNsYXNzTmFtZT17ZXNzYXlEYXRhLnN0YXR1cyA9PT0gJ3Byb2Nlc3NlZCcgPyAnYm9yZGVyLWdyZWVuLTUwMCBiZy1ncmVlbi01MCcgOiAnYm9yZGVyLWJsdWUtNTAwIGJnLWJsdWUtNTAnfT5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAge2Vzc2F5RGF0YS5zdGF0dXMgPT09ICdwcm9jZXNzZWQnID8gKFxuICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tDaXJjbGUyIGNsYXNzTmFtZT1cImgtNSB3LTUgdGV4dC1ncmVlbi02MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1ncmVlbi04MDBcIj5Qcm9jZXNzaW5nIENvbXBsZXRlPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JlZW4tNjAwXCI+WW91ciBlc3NheSBoYXMgYmVlbiBhbmFseXplZDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9XCJoLTUgdy01IHRleHQtYmx1ZS02MDAgYW5pbWF0ZS1zcGluXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtYmx1ZS04MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZXNzYXlEYXRhLnN0YXR1cyA9PT0gJ3Byb2Nlc3NpbmcnID8gJ1Byb2Nlc3NpbmcuLi4nIDogJ1F1ZXVlZCBmb3IgUHJvY2Vzc2luZyd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWJsdWUtNjAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2Vzc2F5RGF0YS5zdGF0dXMgPT09ICdwcm9jZXNzaW5nJyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ0FuYWx5emluZyB5b3VyIGVzc2F5IHdpdGggQUknIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnWW91ciBlc3NheSBpcyBpbiB0aGUgcXVldWUnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvQWxlcnQ+XG5cbiAgICAgICAgICAgICAgICB7LyogTWV0cmljcyAqL31cbiAgICAgICAgICAgICAgICB7ZXNzYXlEYXRhLm1ldHJpY3MgJiYgKFxuICAgICAgICAgICAgICAgICAgPENhcmQ+XG4gICAgICAgICAgICAgICAgICAgIDxDYXJkSGVhZGVyPlxuICAgICAgICAgICAgICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGaWxlVGV4dCBjbGFzc05hbWU9XCJoLTYgdy02XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIE1ldHJpY3NcbiAgICAgICAgICAgICAgICAgICAgICA8L0NhcmRUaXRsZT5cbiAgICAgICAgICAgICAgICAgICAgPC9DYXJkSGVhZGVyPlxuICAgICAgICAgICAgICAgICAgICA8Q2FyZENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0yIG1kOmdyaWQtY29scy00IGdhcC00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLW11dGVkIHAtNCByb3VuZGVkLWxnXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+V29yZCBDb3VudDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkXCI+e2Vzc2F5RGF0YS5tZXRyaWNzLndvcmRfY291bnR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLW11dGVkIHAtNCByb3VuZGVkLWxnXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+VW5pcXVlIFdvcmRzPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGRcIj57ZXNzYXlEYXRhLm1ldHJpY3MudW5pcXVlX3dvcmRzfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1tdXRlZCBwLTQgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlR5cGUtVG9rZW4gUmF0aW88L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtlc3NheURhdGEubWV0cmljcy50eXBlX3Rva2VuX3JhdGlvLnRvRml4ZWQoMil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAge2Vzc2F5RGF0YS5tZXRyaWNzLmF2Z193b3JkX2ZyZXFfcmFuayAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctbXV0ZWQgcC00IHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPkF2ZyBGcmVxdWVuY3kgUmFuazwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtNYXRoLnJvdW5kKGVzc2F5RGF0YS5tZXRyaWNzLmF2Z193b3JkX2ZyZXFfcmFuayl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAge2Vzc2F5RGF0YS5tZXRyaWNzLm5vdW5fcmF0aW8gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IHB0LTQgYm9yZGVyLXRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSBtYi0yXCI+UGFydCBvZiBTcGVlY2ggRGlzdHJpYnV0aW9uPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgbWQ6Z3JpZC1jb2xzLTQgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj5Ob3VuczwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZFwiPnsoZXNzYXlEYXRhLm1ldHJpY3Mubm91bl9yYXRpbyAqIDEwMCkudG9GaXhlZCgxKX0lPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlZlcmJzPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkXCI+eyhlc3NheURhdGEubWV0cmljcy52ZXJiX3JhdGlvISAqIDEwMCkudG9GaXhlZCgxKX0lPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtlc3NheURhdGEubWV0cmljcy5hZGpfcmF0aW8gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj5BZGplY3RpdmVzPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGRcIj57KGVzc2F5RGF0YS5tZXRyaWNzLmFkal9yYXRpbyAqIDEwMCkudG9GaXhlZCgxKX0lPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZXNzYXlEYXRhLm1ldHJpY3MuYWR2X3JhdGlvICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+QWR2ZXJiczwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkXCI+eyhlc3NheURhdGEubWV0cmljcy5hZHZfcmF0aW8gKiAxMDApLnRvRml4ZWQoMSl9JTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgICAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgey8qIEZlZWRiYWNrICovfVxuICAgICAgICAgICAgICAgIHtlc3NheURhdGEuZmVlZGJhY2sgJiYgZXNzYXlEYXRhLmZlZWRiYWNrLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgPENhcmQ+XG4gICAgICAgICAgICAgICAgICAgIDxDYXJkSGVhZGVyPlxuICAgICAgICAgICAgICAgICAgICAgIDxDYXJkVGl0bGU+V29yZC1MZXZlbCBGZWVkYmFjazwvQ2FyZFRpdGxlPlxuICAgICAgICAgICAgICAgICAgICA8L0NhcmRIZWFkZXI+XG4gICAgICAgICAgICAgICAgICAgIDxDYXJkQ29udGVudD5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAge2Vzc2F5RGF0YS5mZWVkYmFjay5tYXAoKGl0ZW0sIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxBbGVydFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD17aXRlbS5jb3JyZWN0ID8gJ2RlZmF1bHQnIDogJ2Rlc3RydWN0aXZlJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2l0ZW0uY29ycmVjdCA/ICdib3JkZXItZ3JlZW4tNTAwIGJnLWdyZWVuLTUwJyA6ICcnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1sZ1wiPntpdGVtLndvcmR9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2BtbC0yIHRleHQtc20gJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmNvcnJlY3QgPyAndGV4dC1ncmVlbi03MDAnIDogJ3RleHQtcmVkLTcwMCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpdGVtLmNvcnJlY3QgPyAn4pyTIENvcnJlY3QnIDogJ+KclyBJbmNvcnJlY3QnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXRlbS5jb21tZW50ICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEFsZXJ0RGVzY3JpcHRpb24gY2xhc3NOYW1lPVwibXQtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpdGVtLmNvbW1lbnR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQWxlcnREZXNjcmlwdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvQWxlcnQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgICAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgey8qIFJlc2V0IEJ1dHRvbiAqL31cbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldEVzc2F5VGV4dCgnJyk7XG4gICAgICAgICAgICAgICAgICAgIHNldEVzc2F5SWQobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIHNldEVzc2F5RGF0YShudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIHNldElzUG9sbGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgdmFyaWFudD1cInNlY29uZGFyeVwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGxcIlxuICAgICAgICAgICAgICAgICAgc2l6ZT1cImxnXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBBbmFseXplIEFub3RoZXIgRXNzYXlcbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgIDwvQ2FyZD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG4iXX0=